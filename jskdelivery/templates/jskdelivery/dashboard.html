{% extends "jskdelivery/base.html" %}

{% block head %}
  <!-- For Chartit -->
  <script 
  src="https://code.jquery.com/jquery-1.12.4.min.js" 
  integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" 
  crossorigin="anonymous"></script>
  <script src="https://code.highcharts.com/highcharts.src.js"></script>
  <script src="https://code.highcharts.com/modules/series-label.js"></script>
  <script src="https://code.highcharts.com/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/modules/export-data.js"></script>
  <script src="https://code.highcharts.com/modules/accessibility.js"></script>

  {% load chartit %}
  {{ cht_list|load_charts:"cht" }}
{% endblock %}

{% block content %}
    <main>
        <div class="container-fluid">
            <h2 class="mt-4">Dashboard</h2>
            <hr>
            <div class="row mb-5">
                <div class="col-xl-3 col-lg-6">
                    <div class="card card-stats mb-4">
                      <div class="card-body">
                        <div class="row">
                          <div class="col">
                            <h5 class="card-title text-uppercase text-muted mb-0 small">All Entries</h5> 
                            <span class="h1 font-weight-bold mb-0">{{ all_deliveries }}</span>
                          </div>
                          <div class="col-auto">
                            <div class="h4 icon icon-shape rounded-circle shadow">
                                <span class="badge badge-dark"><i class="fas fa-users"></i></span>
                            </div>
                          </div>
                        </div>
                        <!-- <p class="mt-3 mb-0 text-muted text-sm">
                          <span class="text-success mr-2"><i class="fas fa-arrow-up"></i> 12%</span>
                          <span class="text-nowrap">Since last month</span>
                        </p> -->
                      </div>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-6">
                    <div class="card card-stats mb-4">
                      <div class="card-body">
                        <div class="row">
                          <div class="col">
                            <h5 class="card-title text-uppercase text-muted mb-0 small">Deliveries Today</h5> 
                            <span class="h1 font-weight-bold mb-0">{{  todays_deliveries }}</span>
                          </div>
                          <div class="col-auto">
                            <div class="h4 icon icon-shape rounded-circle shadow">
                                <span class="badge badge-success"><i class="fas fa-chart-pie"></i></span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-6">
                    <div class="card card-stats mb-4">
                      <div class="card-body">
                        <div class="row">
                          <div class="col">
                            <h5 class="card-title text-uppercase text-muted mb-0 small">Deliveries (Last 7 days)</h5> 
                            <span class="h1 font-weight-bold mb-0">{{ last_seven_days }}</span>
                          </div>
                          <div class="col-auto">
                            <div class="h4 icon icon-shape rounded-circle shadow">
                                <span class="badge badge-dark"><i class="fas fa-chart-line"></i></span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-6">
                    <div class="card card-stats mb-4">
                      <div class="card-body">
                        <div class="row">
                          <div class="col">
                            <h5 class="card-title text-uppercase text-muted mb-0 small">Total Amount (Last 7 days)</h5> 
                            <span class="h1 font-weight-bold mb-0">{{ total_amount_last_7_days }}</span>
                          </div>
                          <div class="col-auto">
                            <div class="h4 icon icon-shape rounded-circle shadow">
                                <span class="badge badge-success"><i class="fas fa-coins"></i></span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-6">
                    <div class="card card-stats">
                      <div class="card-body">
                        <div class="row">
                          <div class="col">
                            <h5 class="card-title text-uppercase text-muted mb-0 small">Total Amount - GHC</h5> 
                            <span class="h1 font-weight-bold mb-0">{{ total_amount }}</span>
                          </div>
                          <div class="col-auto">
                            <div class="h4 icon icon-shape rounded-circle shadow">
                                <span class="badge badge-success"><i class="fas fa-coins"></i></span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-xl-12 col-lg-12">
                    <div class="card shadow mb-4">
                        <!-- Card Header - Dropdown -->
                        <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                            <h6 class="m-0 font-weight-bold"> <i class="fas fa-chart-area mr-1"></i>Amount Trend</h6>
                        </div>
                        <!-- Card Body -->
                        <div class="card-body">
                            <div id="cht"> Chart goes here! </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
{% endblock content %}